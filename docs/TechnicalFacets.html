<html>

  {% macro TechnicalFacetsTable(facetlist) %}
    <table>
      <thead>
        <tr>
          <th>Id</th>
          <th>Facet</th>
          <th>Function</th>
          <th>Component</th>
          <th width="50%">Description</th>
          <th>Sources</th>
          <th>Comment</th>
        </tr>
      </thead>
      {% for id,facet in facetlist['reqs'] %}
        <tbody>
          <tr>
            <td>{{ id }}</td>
            <td>{{ facet['facet'] }}</td>
            <td>{{ facet['function'][0] }}</td>
            <td>{{ facet['component'][0] }}</td>
            <td>{{ facet['description'][0] }}</td>
            <td>
              {% for refid in facet['source'] -%}
                {{ refid }}
                {%- if facet['source'][refid] != None -%}
                  {{ '&nbsp;['+facet['source'][refid]+'] ' }}
                {%- endif -%}
                {{ ' ' }}
              {%- endfor %}
            </td>
            <td>{{ facet['comment'][0] }}</td>
          </tr>
          {% for i in range(1,facet['len']) %}
            <tr>
              <td></td>
              <td></td>
              <td>{{ facet['function'][i] }}</td>
              <td>{{ facet['component'][i] }}</td>
              <td>{{ facet['description'][i] }}</td>
              <td></td>
              <td>{{ facet['comment'][i] }}</td>
            </tr>
          {% endfor %}
        </tbody>
      {% endfor %}
    </table>
  {% endmacro %}

  <head>
    <title>Wf4Ever Consolidated Technical Facets</title>
    <link rel="stylesheet" href="trac.css" />
    <link rel="stylesheet" href="reqs.css" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/> 
  </head>

  <body>
    <h1>Wf4Ever Consolidated Technical Facets</h1>
    <p><em>This is a work in progress document, derived from semi-structured source data.</em></p>
    <h2>Introduction</h2>
    <p>This document contains consolidated Wf4Ever technical facets from all sources.</p>
    <p>
      These are mainly derived from the month 6 project deliverables documents, and need
      some review.  The intent is that facet information applied to technical 
      requirements can be used to isolate specific technical requirements applicable to 
      each of the project work areas.
    </p>
    <p>
      @@TODO: Need to say more about the nature of technical facets (or dimensions)? 
    </p>
    <p>
      @@TODO: Figure how to generate facets as "tag cloud" or similar hyperlinked to descriptions. 
    </p>
    <p>
      @@TODO: review assignment of categories to "facets" or "functions" - some choices are somewhat arbitrary or maybe plain wrong.  Facets should relate to technical design considerations.
    </p>

    <h2>Technical facets</h2>
    <p>
      Each facet is listed with the following information:
      <dl>
        <dt>Id</dt>
        <dd>A label that will be used for cross-references</dd>
        <dt>Facet</dt>
        <dd>Name of facet</dd>
        <dt>Function</dt>
        <dd>User visible functions or concerns that are addressed by the technical requirements or features associated with this facet.</dd>
        <dt>Component</dt>
        <dd>Project components or work areas for which there are technical requirements associated with the facet</dd>
        <dt>Description</dt>
        <dd>One or more descriptions of the facet, mostly extracted verbatim from the sourve documents</dd>
        <dt>Sources</dt>
        <dd>Indicates source documents or other source from which the facet has been derived</dd>
        <dt>Comment</dt>
        <dd>Other notes - mainly editorial</dd>
      </dl>
    </p>

    {{ TechnicalFacetsTable(d['TechnicalFacets']) }}

  </body>
</html>

